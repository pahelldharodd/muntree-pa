<!-- ---
// This page is available at /admin-profile
import Layout from "../layouts/Layout.astro";
---

<Layout title="Admin Profile">
  <main>
    <div class="card">
      <h1>Profile/Settings</h1>
      <form id="profileForm">
        <div class="form-group">
          <label for="email">New Email</label>
          <input type="email" id="email" />
        </div>
        <div class="form-group">
          <label for="password">New Password</label>
          <input type="password" id="password" />
        </div>
        <button type="submit" class="btn">Update</button>
        <p id="profileMsg" class="hidden"></p>
      </form>
    </div>
  </main>
</Layout>
<style>
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f4f6fa;
  }

  .card {
    max-width: 420px;
    margin: 3rem auto;
    padding: 2.5rem;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    transition: box-shadow 0.3s ease;
  }

  .card:hover {
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
  }

  h1 {
    font-size: 1.75rem;
    margin-bottom: 1.5rem;
    color: #1e2a78;
    text-align: center;
  }

  .form-group {
    margin-bottom: 1.25rem;
  }

  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }

  input[type="email"],
  input[type="password"] {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ccd2e0;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.2s ease;
  }

  input[type="email"]:focus,
  input[type="password"]:focus {
    outline: none;
    border-color: #1e2a78;
    box-shadow: 0 0 0 3px rgba(30, 42, 120, 0.1);
  }

  .btn {
    width: 100%;
    background: #1e2a78;
    color: #fff;
    border: none;
    padding: 0.9rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: background 0.3s ease;
  }

  .btn:hover {
    background: #141c5a;
  }

  #profileMsg {
    margin-top: 1rem;
    text-align: center;
    font-size: 0.95rem;
    color: #28a745;
  }

  .hidden {
    display: none;
  }
</style>

<script>
  const token = localStorage.getItem("access_token");
  if (!token) window.location.href = "/admin-login";

  document.addEventListener("DOMContentLoaded", function () {
    const profileForm = document.getElementById("profileForm");
    const profileMsg = document.getElementById("profileMsg");
    if (profileForm && profileMsg) {
      profileForm.addEventListener("submit", async function (e) {
        e.preventDefault();
        // TODO: Implement profile update logic (requires backend endpoint)
        profileMsg.textContent = "Profile update not implemented yet.";
        profileMsg.classList.remove("hidden");
      });
    }
  });
</script> -->
